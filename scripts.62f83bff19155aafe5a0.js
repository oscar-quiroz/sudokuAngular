var test_grid1="003020600900305001001806400008102900700000008006708200002609500800203009005010300",test_grid2="4.....8.5.3..........7......2.....6.....8.4......1.......6.3.7.5..2.....1.4......";function cross(r,s){var n=[];for(var e in r)for(var i in s)n.push(r[e]+s[i]);return n}function member(r,s){for(var n in s)if(r==s[n])return!0;return!1}var rows=["A","B","C","D","E","F","G","H","I"],cols=["1","2","3","4","5","6","7","8","9"],digits="123456789",squares=cross(rows,cols),nassigns=0,neliminations=0,nsearches=0,unitlist=[];for(var c in cols)unitlist.push(cross(rows,[cols[c]]));for(var r in rows)unitlist.push(cross([rows[r]],cols));var rrows=[["A","B","C"],["D","E","F"],["G","H","I"]],ccols=[["1","2","3"],["4","5","6"],["7","8","9"]];for(var rs in rrows)for(var cs in ccols)unitlist.push(cross(rrows[rs],ccols[cs]));var units={};for(var s in squares)for(var u in units[squares[s]]=[],unitlist)member(squares[s],unitlist[u])&&units[squares[s]].push(unitlist[u]);var peers={};for(var s in squares)for(var u in peers[squares[s]]={},units[squares[s]]){var ul=units[squares[s]][u];for(var s2 in ul)ul[s2]!=squares[s]&&(peers[squares[s]][ul[s2]]=!0)}function parse_grid(r){nassigns=0,neliminations=0,nsearches=0;for(var s="",n=0;n<r.length;n++)"0.-123456789".indexOf(r.charAt(n))>=0&&(s+=r.charAt(n));var e={};for(var i in squares)e[squares[i]]=digits;for(var i in squares)if(digits.indexOf(s.charAt(i))>=0&&!assign(e,squares[i],s.charAt(i)))return!1;return e}function assign(r,s,n){++nassigns;for(var e=!0,i=r[s],a=0;a<i.length;a++)i.charAt(a)!=n&&(e&=!!eliminate(r,s,i.charAt(a)));return!!e&&r}function eliminate(r,s,n){if(++neliminations,-1==r[s].indexOf(n))return r;if(r[s]=r[s].replace(n,""),0==r[s].length)return!1;if(1==r[s].length){var e=!0;for(var i in peers[s])e&=!!eliminate(r,i,r[s]);if(!e)return!1}for(var a in units[s]){var t=[];for(var i in units[s][a]){var u=units[s][a][i];-1!=r[u].indexOf(n)&&t.push(u)}if(0==t.length)return!1;if(1==t.length&&!assign(r,t[0],n))return!1}return r}function dup(r){var s={};for(var n in r)s[n]=r[n];return s}function search(r){if(++nsearches,!r)return!1;var s=10,n=1,e=null;for(var i in squares)r[squares[i]].length>n&&(n=r[squares[i]].length),r[squares[i]].length>1&&r[squares[i]].length<s&&(s=r[squares[i]].length,e=squares[i]);if(1==n)return r;for(var a=0;a<r[e].length;a++){var t=search(assign(dup(r),e,r[e].charAt(a)));if(t)return t}return!1}function center(r,s){for(var n=s-r.length;n>0;)n%2?r+=" ":r=" "+r,n-=1;return r}function board_string(r){var s=0;for(var n in squares)r[squares[n]].length>s&&(s=r[squares[n]].length);s+=1;for(var e="",i=0;i<s;i++)e+="---";var a="\n"+[e,e,e].join("+"),t="";for(var u in rows){for(var o in cols)t+=center(r[rows[u]+cols[o]],s),2!=o&&5!=o||(t+="|");2!=u&&5!=u||(t+=a),t+="\n"}return t+"\n"}function devolverMatriz(){return test_grid1}